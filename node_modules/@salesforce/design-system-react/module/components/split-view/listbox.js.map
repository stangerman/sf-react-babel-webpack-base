{"version":3,"sources":["../../../.tmp-es/components/split-view/listbox.jsx"],"names":["React","PropTypes","classNames","eventUtil","SPLIT_VIEW_LISTBOX","Icon","SplitViewListItemContent","listItemWithContent","SORT_OPTIONS","Object","freeze","UP","DOWN","propTypes","assistiveText","shape","list","string","sort","sortedBy","descending","ascending","unreadItem","className","oneOfType","array","object","events","onSelect","func","isRequired","onSort","id","labels","header","sortDirection","oneOf","multiple","bool","options","selection","unread","listItem","defaultProps","SplitViewListbox","props","listItemComponents","state","currentSelectedItem","currentFocusedListItem","index","item","ListItemWithContent","focusFirstItem","includes","event","key","ctrlKey","trap","deselectAllListItems","selectAllListItems","moveToPreviousItem","moveToNextItem","nextFocusIndex","length","moveToIndex","previousFocusIndex","metaKey","selectListItem","focusItem","firstSelectedItem","find","setDataOnly","indexOf","focus","setState","selectedItems","filter","i","shiftKey","begin","end","addToSelection","slice","children","borderTop","headerWrapper","component","map","addListItemComponent","isListItemFocused","isSelected","isUnread","onClick","meta","handleOnSelect","handleKeyDown","listItems","Component"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n/* eslint-disable class-methods-use-this */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport eventUtil from '../../utilities/event';\n\nimport { SPLIT_VIEW_LISTBOX } from '../../utilities/constants';\n\nimport Icon from '../icon';\nimport SplitViewListItemContent from './private/list-item-content';\nimport listItemWithContent from './private/list-item-with-content';\n\nexport const SORT_OPTIONS = Object.freeze({\n\tUP: 'up',\n\tDOWN: 'down',\n});\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * * `list`: aria label for the list\n\t * * `sort`\n\t *    * `sortedBy`: Clickable sort header for the list.\n\t *    * `descending`: Descending sorting.\n\t *    * `ascending`: Ascending sorting.\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tlist: PropTypes.string,\n\t\tsort: PropTypes.shape({\n\t\t\tsortedBy: PropTypes.string,\n\t\t\tdescending: PropTypes.string,\n\t\t\tascending: PropTypes.string,\n\t\t}),\n\t\tunreadItem: PropTypes.string,\n\t}),\n\t/**\n\t * CSS classes to be added to the parent `div` tag.\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Event Callbacks\n\t * * `onSelect`: Called when a list item is selected.\n\t *    * event {object} List item click event\n\t *    * Meta {object}\n\t *       * selectedItems {array} List of selected items.\n\t *       * item {object} Last selected item.\n\t * * `onSort`: Called when the list is sorted.\n\t *    * event {object} Sort click event\n\t */\n\tevents: PropTypes.shape({\n\t\tonSelect: PropTypes.func.isRequired,\n\t\tonSort: PropTypes.func,\n\t}),\n\t/**\n\t * HTML id for component.\n\t */\n\tid: PropTypes.string,\n\t/**\n\t * **Text labels for internationalization**\n\t * * `header`: This is the header of the list.\n\t */\n\tlabels: PropTypes.shape({\n\t\theader: PropTypes.string,\n\t}),\n\t/**\n\t * The direction of the sort arrow. Option are:\n\t * * SORT_OPTIONS.UP: `up`\n\t * * SORT_OPTIONS.DOWN: `down`\n\t */\n\tsortDirection: PropTypes.oneOf([SORT_OPTIONS.UP, SORT_OPTIONS.DOWN]),\n\t/**\n\t * Allows multiple item to be selection\n\t */\n\tmultiple: PropTypes.bool,\n\t/**\n\t * The list of items.\n\t * It is recommended that you have a unique `id` for each item.\n\t */\n\toptions: PropTypes.array.isRequired,\n\t/**\n\t * Accepts an array of item objects. For single selection, pass in an array of one object.\n\t */\n\tselection: PropTypes.array,\n\t/**\n\t * Accepts an array of item objects. For single unread, pass in an array of one object.\n\t */\n\tunread: PropTypes.array,\n\t/**\n\t * Custom list item template for the list item content. The select and unread functionality wraps the custom list item.\n\t * This should be a React component that accepts props.\n\t */\n\tlistItem: PropTypes.func,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tlist: 'Select an item to open it in a new workspace tab.',\n\t\tsort: {\n\t\t\tsortedBy: 'Sorted by',\n\t\t\tdescending: 'Descending',\n\t\t\tascending: 'Ascending',\n\t\t},\n\t},\n\tevents: {},\n\tlabels: {},\n\tselection: [],\n\tunread: [],\n};\n\n/**\n * The menu with the ARIA role of a listbox.\n */\nclass SplitViewListbox extends React.Component {\n\tstatic displayName = SPLIT_VIEW_LISTBOX;\n\tstatic propTypes = propTypes;\n\tstatic defaultProps = defaultProps;\n\n\tconstructor (props) {\n\t\tsuper(props);\n\n\t\tthis.listItemComponents = {};\n\n\t\tthis.state = {\n\t\t\tcurrentSelectedItem: null,\n\t\t\tcurrentFocusedListItem: {\n\t\t\t\tindex: 0,\n\t\t\t\titem: null,\n\t\t\t},\n\t\t};\n\t}\n\n\tcomponentWillMount () {\n\t\t// Generates the list item template\n\t\tthis.ListItemWithContent = listItemWithContent(\n\t\t\tthis.props.listItem || SplitViewListItemContent\n\t\t);\n\t}\n\n\tcomponentDidMount () {\n\t\tthis.focusFirstItem();\n\t}\n\n\tisListItemFocused (item) {\n\t\treturn this.state.currentFocusedListItem.item === item;\n\t}\n\n\tisSelected (item) {\n\t\treturn this.props.selection.includes(item);\n\t}\n\n\tisUnread (item) {\n\t\treturn this.props.unread.includes(item);\n\t}\n\n\thandleKeyDown (event) {\n\t\tif (this.props.multiple && event.key === 'a' && event.ctrlKey) {\n\t\t\t// select / deselect all\n\t\t\teventUtil.trap(event);\n\t\t\tif (this.props.options === this.props.selection) {\n\t\t\t\tthis.deselectAllListItems(event);\n\t\t\t} else {\n\t\t\t\tthis.selectAllListItems(event);\n\t\t\t}\n\t\t} else if (event.key === 'ArrowUp') {\n\t\t\teventUtil.trap(event);\n\t\t\tthis.moveToPreviousItem(event);\n\t\t} else if (event.key === 'ArrowDown') {\n\t\t\teventUtil.trap(event);\n\t\t\tthis.moveToNextItem(event);\n\t\t}\n\t}\n\n\tmoveToNextItem (event) {\n\t\tconst nextFocusIndex =\n\t\t\tthis.state.currentFocusedListItem.index === this.props.options.length - 1\n\t\t\t\t? 0\n\t\t\t\t: this.state.currentFocusedListItem.index + 1;\n\n\t\tthis.moveToIndex(event, nextFocusIndex);\n\t}\n\n\tmoveToPreviousItem (event) {\n\t\tconst previousFocusIndex =\n\t\t\tthis.state.currentFocusedListItem.index === 0\n\t\t\t\t? this.props.options.length - 1\n\t\t\t\t: this.state.currentFocusedListItem.index - 1;\n\n\t\tthis.moveToIndex(event, previousFocusIndex);\n\t}\n\n\tmoveToIndex (event, index) {\n\t\tconst item = this.props.options[index];\n\n\t\tif (!event.metaKey && !event.ctrlKey) {\n\t\t\tthis.selectListItem(item, event);\n\t\t}\n\n\t\tthis.focusItem(item);\n\t}\n\n\tfocusFirstItem () {\n\t\tconst firstSelectedItem =\n\t\t\tthis.props.options.find((item) => this.props.selection.includes(item)) ||\n\t\t\tthis.props.options[0];\n\n\t\tif (firstSelectedItem) {\n\t\t\tthis.focusItem(firstSelectedItem, true);\n\t\t}\n\t}\n\n\tfocusItem (item, setDataOnly) {\n\t\tconst index = this.props.options.indexOf(item);\n\n\t\tif (!setDataOnly) {\n\t\t\tthis.listItemComponents[index].focus();\n\t\t}\n\n\t\tthis.setState({\n\t\t\tcurrentFocusedListItem: {\n\t\t\t\tindex,\n\t\t\t\titem,\n\t\t\t},\n\t\t});\n\t}\n\n\tdeselectAllListItems (event) {\n\t\tthis.setState({ currentSelectedItem: null });\n\t\tthis.props.events.onSelect(event, {\n\t\t\tselectedItems: [],\n\t\t\titem: null,\n\t\t});\n\t}\n\n\tselectAllListItems (event) {\n\t\tthis.props.events.onSelect(event, {\n\t\t\tselectedItems: this.props.options,\n\t\t\titem: this.state.currentSelectedItem,\n\t\t});\n\t}\n\n\tselectListItem (item, event) {\n\t\tlet selectedItems = [item];\n\n\t\tif (this.props.multiple) {\n\t\t\tif (event.metaKey) {\n\t\t\t\tselectedItems = this.props.selection.includes(item)\n\t\t\t\t\t? this.props.selection.filter((i) => i !== item)\n\t\t\t\t\t: [item, ...this.props.selection];\n\t\t\t} else if (event.shiftKey) {\n\t\t\t\tconst [begin, end] = [\n\t\t\t\t\tthis.props.options.indexOf(this.state.currentSelectedItem),\n\t\t\t\t\tthis.props.options.indexOf(item),\n\t\t\t\t].sort();\n\n\t\t\t\tconst addToSelection = this.props.options.slice(begin, end + 1);\n\n\t\t\t\tselectedItems = [\n\t\t\t\t\t...addToSelection,\n\t\t\t\t\t...this.props.selection.filter((i) => !addToSelection.includes(i)),\n\t\t\t\t];\n\t\t\t}\n\t\t}\n\n\t\tthis.setState({ currentSelectedItem: item });\n\n\t\tthis.props.events.onSelect(event, { selectedItems, item });\n\t}\n\n\thandleOnSelect (event, { item }) {\n\t\tthis.selectListItem(item, event);\n\t\tthis.focusItem(item);\n\t}\n\n\tsortDirection () {\n\t\treturn this.props.sortDirection ? (\n\t\t\t<Icon\n\t\t\t\tcategory=\"utility\"\n\t\t\t\tname={\n\t\t\t\t\tthis.props.sortDirection === SORT_OPTIONS.DOWN\n\t\t\t\t\t\t? 'arrowdown'\n\t\t\t\t\t\t: 'arrowup'\n\t\t\t\t}\n\t\t\t\tsize=\"xx-small\"\n\t\t\t\tclassName=\"slds-align-top\"\n\t\t\t/>\n\t\t) : null;\n\t}\n\n\theaderWrapper (children) {\n\t\treturn this.props.events.onSort ? (\n\t\t\t<a\n\t\t\t\tstyle={{ borderTop: '0' }}\n\t\t\t\thref=\"javascript:void(0);\" // eslint-disable-line no-script-url\n\t\t\t\trole=\"button\"\n\t\t\t\tclassName=\"slds-split-view__list-header slds-grid slds-text-title_caps slds-text-link_reset\"\n\t\t\t\tonClick={this.props.events.onSort}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</a>\n\t\t) : (\n\t\t\t<div\n\t\t\t\tstyle={{ borderTop: '0' }}\n\t\t\t\tclassName=\"slds-split-view__list-header slds-grid slds-text-title_caps\"\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</div>\n\t\t);\n\t}\n\n\theader () {\n\t\treturn this.props.labels.header\n\t\t\t? this.headerWrapper(\n\t\t\t\t<span>\n\t\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t\t{this.props.assistiveText.sort.sortedBy}:\n\t\t\t\t\t</span>\n\t\t\t\t\t<span>\n\t\t\t\t\t\t{this.props.labels.header}\n\t\t\t\t\t\t{this.sortDirection()}\n\t\t\t\t\t</span>\n\t\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t\t\t-{' '}\n\t\t\t\t\t\t{this.props.sortDirection === SORT_OPTIONS.DOWN\n\t\t\t\t\t\t\t? this.props.assistiveText.sort.descending\n\t\t\t\t\t\t\t: this.props.assistiveText.sort.ascending}\n\t\t\t\t\t</span>\n\t\t\t\t</span>\n\t\t\t)\n\t\t\t: null;\n\t}\n\n\taddListItemComponent (component, index) {\n\t\tthis.listItemComponents[index] = component;\n\t}\n\n\tlistItems () {\n\t\tconst ListItemWithContent = this.ListItemWithContent;\n\n\t\treturn this.props.options.map((item, index) => (\n\t\t\t<ListItemWithContent\n\t\t\t\tkey={item.id || index}\n\t\t\t\tassistiveText={{\n\t\t\t\t\tunreadItem: this.props.assistiveText.unreadItem,\n\t\t\t\t}}\n\t\t\t\tlistItemRef={(component) => {\n\t\t\t\t\tthis.addListItemComponent(component, index);\n\t\t\t\t}}\n\t\t\t\titem={item}\n\t\t\t\tisFocused={this.isListItemFocused(item)}\n\t\t\t\tisSelected={this.isSelected(item)}\n\t\t\t\tisUnread={this.isUnread(item)}\n\t\t\t\tevents={{\n\t\t\t\t\tonClick: (event, meta) => this.handleOnSelect(event, meta),\n\t\t\t\t}}\n\t\t\t\tmultiple={this.props.multiple}\n\t\t\t/>\n\t\t));\n\t}\n\n\trender () {\n\t\treturn (\n\t\t\t<div\n\t\t\t\tid={this.props.id}\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-grid slds-grid_vertical slds-scrollable_none',\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t>\n\t\t\t\t{this.header()}\n\t\t\t\t<ul\n\t\t\t\t\tclassName=\"slds-scrollable_y\"\n\t\t\t\t\taria-label={this.props.assistiveText.list}\n\t\t\t\t\taria-multiselectable={this.props.multiple}\n\t\t\t\t\trole=\"listbox\"\n\t\t\t\t\tonKeyDown={(event) => this.handleKeyDown(event)}\n\t\t\t\t>\n\t\t\t\t\t{this.listItems()}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default SplitViewListbox;\n"],"file":"listbox.js"}