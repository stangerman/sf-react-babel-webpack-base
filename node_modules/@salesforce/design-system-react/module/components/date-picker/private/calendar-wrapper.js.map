{"version":3,"sources":["../../../../.tmp-es/components/date-picker/private/calendar-wrapper.jsx"],"names":["React","PropTypes","classNames","Calendar","CalendarNavigation","EventUtil","KEYS","DatepickerCalendarWrapper","initialDateForCalendarRender","props","selectedDate","isCalendarFocused","event","direction","previousMonthRef","setState","onCalendarFocus","ref","focus","todayRef","shiftKey","keyCode","TAB","trapEvent","ESCAPE","onRequestClose","data","state","triggerCallback","modifiedData","isolated","className","handleKeyDown","assistiveTextNextMonth","assistiveTextPreviousMonth","id","monthLabels","handleInitialDateForCalendarRenderChange","component","handleFirstFocusableNodeKeyDown","relativeYearFrom","relativeYearTo","abbreviatedWeekDayLabels","dateDisabled","isIsoWeekday","handleCalendarBlur","handleRequestClose","handleRequestFocusDate","onSelectDate","selectedDateRef","todayLabel","handleLastFocusableNodeKeyDown","weekDayLabels","Component","Date","value","string","isRequired","array","oneOfType","object","func","bool","number","instanceOf"],"mappings":";;;;;;;;;;;;;;;;AAAA;;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;AACA;AACA;AACA;;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,kBAAP,MAA+B,cAA/B;AAEA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,IAAP,MAAiB,6BAAjB;;IAEMC,yB;;;;;;;;;;;;;;;;;;;;aAuFG;AACPC,sCAA8B,MAAKC,KAAL,CAAWC,YADlC;AAEPC,2BAAmB;AAFZ;;;;;aAKa,eAACC,KAAD,SAA0B;AAAA,YAAhBC,SAAgB,SAAhBA,SAAgB;;AAC9C,YAAIA,cAAc,MAAd,IAAwB,MAAKC,gBAAjC,EAAmD;AAClD,gBAAKC,QAAL,CAAc;AAAEJ,+BAAmB;AAArB,WAAd;;AACA,cAAI,MAAKF,KAAL,CAAWO,eAAf,EAAgC;AAC/B,kBAAKP,KAAL,CAAWO,eAAX,CAA2BJ,KAA3B,EAAkC;AACjCC,kCADiC;AAEjCF,iCAAmB,KAFc;AAGjCM,mBAAK,MAAKH;AAHuB,aAAlC;AAKA;;AACD,gBAAKA,gBAAL,CAAsBI,KAAtB;AACA,SAVD,MAUO,IAAIL,cAAc,UAAd,IAA4B,MAAKM,QAArC,EAA+C;AACrD,gBAAKJ,QAAL,CAAc;AAAEJ,+BAAmB;AAArB,WAAd;;AACA,cAAI,MAAKF,KAAL,CAAWO,eAAf,EAAgC;AAC/B,kBAAKP,KAAL,CAAWO,eAAX,CAA2BJ,KAA3B,EAAkC;AACjCC,kCADiC;AAEjCF,iCAAmB,KAFc;AAGjCM,mBAAK,MAAKE;AAHuB,aAAlC;AAKA;;AACD,gBAAKA,QAAL,CAAcD,KAAd;AACA;AACD;;;;;aAEiC,eAACN,KAAD,EAAW;AAC5C,YAAIA,MAAMQ,QAAN,IAAkBR,MAAMS,OAAN,KAAkBf,KAAKgB,GAA7C,EAAkD;AACjDjB,oBAAUkB,SAAV,CAAoBX,KAApB;;AACA,gBAAKG,QAAL,CAAc;AAAEJ,+BAAmB;AAArB,WAAd;AACA;AACD;;;;;aAE0C,eAC1CC,KAD0C,EAE1CJ,4BAF0C,EAGtC;AACJ,cAAKO,QAAL,CAAc;AAAEP;AAAF,SAAd;AACA;;;;;aAEe,eAACI,KAAD,EAAW;AAC1B,YAAIA,MAAMS,OAAN,KAAkBf,KAAKkB,MAA3B,EAAmC;AAClCnB,oBAAUkB,SAAV,CAAoBX,KAApB;;AACA,gBAAKH,KAAL,CAAWgB,cAAX,CAA0Bb,KAA1B,EAAiC,EAAjC;AACA;AACD;;;;;aAEgC,eAACA,KAAD,EAAW;AAC3C,YAAI,CAACA,MAAMQ,QAAP,IAAmBR,MAAMS,OAAN,KAAkBf,KAAKgB,GAA9C,EAAmD;AAClDjB,oBAAUkB,SAAV,CAAoBX,KAApB;;AACA,gBAAKG,QAAL,CAAc;AAAEJ,+BAAmB;AAArB,WAAd;AACA;AACD;;;;;aAEoB,eAACC,KAAD,EAAW;AAC/B,YAAI,MAAKH,KAAL,CAAWgB,cAAf,EAA+B;AAC9B,gBAAKhB,KAAL,CAAWgB,cAAX,CAA0Bb,KAA1B,EAAiC,EAAjC;AACA;AACD;;;;;aAEwB,eAACA,KAAD,EAAQc,IAAR,EAAiB;AACzC;AACA,YAAIA,KAAKT,GAAL,IAAY,MAAKU,KAAL,CAAWhB,iBAA3B,EAA8C;AAC7Ce,eAAKT,GAAL,CAASC,KAAT;AACA,SAJwC,CAMzC;;;AACA,YAAI,MAAKT,KAAL,CAAWO,eAAX,IAA8BU,KAAKE,eAAvC,EAAwD;AAAA,cAC/CA,eAD+C,GACVF,IADU,CAC/CE,eAD+C;AAAA,cAC3BC,YAD2B,4BACVH,IADU,wBACJ;;;AACnD,gBAAKjB,KAAL,CAAWO,eAAX,CAA2BJ,KAA3B,EAAkCiB,YAAlC;AACA;AACD;;;;;;6BAES;AAAA;;AACT,aACC;AAAK;AACJ,mBAAW3B,WACV;AACC,6BAAmB,KAAKO,KAAL,CAAWqB;AAD/B,SADU,EAIV,KAAKrB,KAAL,CAAWsB,SAJD,CADZ;AAOC,uBAAY,OAPb;AAQC,0BAAe,QARhB;AASC,mBAAW,KAAKC;AATjB,SAWC,oBAAC,kBAAD;AACC,gCAAwB,KAAKvB,KAAL,CAAWwB,sBADpC;AAEC,oCAA4B,KAAKxB,KAAL,CAAWyB,0BAFxC;AAGC,YAAI,KAAKzB,KAAL,CAAW0B,EAHhB;AAIC,sCAA8B,KAAKR,KAAL,CAAWnB,4BAJ1C;AAKC,qBAAa,KAAKC,KAAL,CAAW2B,WALzB;AAMC,uBAAe,KAAKC,wCANrB;AAOC,0BAAkB,0BAACC,SAAD,EAAe;AAChC,iBAAKxB,gBAAL,GAAwBwB,SAAxB;AACA,SATF;AAUC,gCAAwB,KAAKC,+BAV9B;AAWC,0BAAkB,KAAK9B,KAAL,CAAW+B,gBAX9B;AAYC,wBAAgB,KAAK/B,KAAL,CAAWgC;AAZ5B,QAXD,EAyBC,oBAAC,QAAD;AACC,kCAA0B,KAAKhC,KAAL,CAAWiC,wBADtC;AAEC,sBAAc,KAAKjC,KAAL,CAAWkC,YAF1B;AAGC,YAAI,KAAKlC,KAAL,CAAW0B,EAHhB;AAIC,sCAA8B,KAAKR,KAAL,CAAWnB,4BAJ1C;AAKC,sBAAc,KAAKC,KAAL,CAAWmC,YAL1B;AAMC,wBAAgB,KAAKC,kBANtB;AAOC,uBAAe,KAAKR,wCAPrB;AAQC,wBAAgB,KAAKS,kBARtB;AASC,oCAA4B,KAAKC,sBATlC;AAUC,sBAAc,KAAKtC,KAAL,CAAWuC,YAV1B;AAWC,sBAAc,KAAKvC,KAAL,CAAWC,YAX1B;AAYC,yBAAiB,KAAKD,KAAL,CAAWwC,eAZ7B;AAaC,oBAAY,KAAKxC,KAAL,CAAWyC,UAbxB;AAcC,kBAAU,kBAACZ,SAAD,EAAe;AACxB,iBAAKnB,QAAL,GAAgBmB,SAAhB;AACA,SAhBF;AAiBC,oCAA4B,KAAKa,8BAjBlC;AAkBC,uBAAe,KAAK1C,KAAL,CAAW2C;AAlB3B,QAzBD,CADD;AAgDA;;;;EApNsCpD,MAAMqD,S;;sBAAxC9C,yB;;;;SACiB;AACrBG,kBAAc,IAAI4C,IAAJ,EADO;AAErBC,WAAO,IAAID,IAAJ;AAFc;;sBADjB/C,yB;;;;SAMgB;;sBANhBA,yB;;;;SAQc;AAClB;;;AAGA0B,4BAAwBhC,UAAUuD,MAAV,CAAiBC,UAJvB;;AAKlB;;;AAGAvB,gCAA4BjC,UAAUuD,MAAV,CAAiBC,UAR3B;;AASlB;;;AAGAf,8BAA0BzC,UAAUyD,KAAV,CAAgBD,UAZxB;;AAalB;;;AAGA1B,eAAW9B,UAAU0D,SAAV,CAAoB,CAC9B1D,UAAUyD,KADoB,EAE9BzD,UAAU2D,MAFoB,EAG9B3D,UAAUuD,MAHoB,CAApB,CAhBO;;AAqBlB;;;AAGAb,kBAAc1C,UAAU4D,IAxBN;;AAyBlB;;;AAGA1B,QAAIlC,UAAUuD,MA5BI;;AA6BlB;;;AAGAZ,kBAAc3C,UAAU6D,IAhCN;;AAiClB;;;AAGAhC,cAAU7B,UAAU6D,IApCF;;AAqClB;;;AAGA1B,iBAAanC,UAAUyD,KAAV,CAAgBD,UAxCX;;AAyClB;;;AAGAzC,qBAAiBf,UAAU4D,IA5CT;;AA6ClB;;;AAGApC,oBAAgBxB,UAAU4D,IAAV,CAAeJ,UAhDb;;AAiDlB;;;AAGAT,kBAAc/C,UAAU4D,IAAV,CAAeJ,UApDX;;AAqDlB;;;AAGAjB,sBAAkBvC,UAAU8D,MAAV,CAAiBN,UAxDjB;;AAyDlB;;;AAGAhB,oBAAgBxC,UAAU8D,MAAV,CAAiBN,UA5Df;;AA6DlB;;;AAGA/C,kBAAcT,UAAU+D,UAAV,CAAqBV,IAArB,CAhEI;;AAiElB;;;AAGAL,qBAAiBhD,UAAU4D,IApET;;AAqElB;;;AAGAX,gBAAYjD,UAAUuD,MAAV,CAAiBC,UAxEX;;AAyElB;;;AAGAL,mBAAenD,UAAUyD,KAAV,CAAgBD;AA5Eb;;AA+MpB,eAAelD,yBAAf","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n// ### classNames\n// [github.com/JedWatson/classnames](https://github.com/JedWatson/classnames)\n// This project uses `classnames`, \"a simple javascript utility for conditionally\n// joining classNames together.\"\nimport classNames from 'classnames';\n\nimport Calendar from './calendar';\nimport CalendarNavigation from './navigation';\n\nimport EventUtil from '../../../utilities/event';\nimport KEYS from '../../../utilities/key-code';\n\nclass DatepickerCalendarWrapper extends React.Component {\n\tstatic defaultProps = {\n\t\tselectedDate: new Date(),\n\t\tvalue: new Date(),\n\t};\n\n\tstatic displayName = 'DatepickerCalendarWrapper';\n\n\tstatic propTypes = {\n\t\t/**\n\t\t * Label for button to go to the next month\n\t\t */\n\t\tassistiveTextNextMonth: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Label for button to go to the previous month\n\t\t */\n\t\tassistiveTextPreviousMonth: PropTypes.string.isRequired,\n\t\t/**\n\t\t * One letter abbreviations of the days of the week, starting on Sunday.\n\t\t */\n\t\tabbreviatedWeekDayLabels: PropTypes.array.isRequired,\n\t\t/**\n\t\t * CSS classes to be added to tag with `slds-datepicker`.\n\t\t */\n\t\tclassName: PropTypes.oneOfType([\n\t\t\tPropTypes.array,\n\t\t\tPropTypes.object,\n\t\t\tPropTypes.string,\n\t\t]),\n\t\t/**\n\t\t * dateDisabled() takes a date as input argument, returns true if given date should be disabled, otherwise returns false.\n\t\t */\n\t\tdateDisabled: PropTypes.func,\n\t\t/**\n\t\t * HTML id for component\n\t\t */\n\t\tid: PropTypes.string,\n\t\t/**\n\t\t * Makes Monday the first day of the week\n\t\t */\n\t\tisIsoWeekday: PropTypes.bool,\n\t\t/**\n\t\t * For use of datepicker outside of dropdown.\n\t\t */\n\t\tisolated: PropTypes.bool,\n\t\t/**\n\t\t * Names of the months\n\t\t */\n\t\tmonthLabels: PropTypes.array.isRequired,\n\t\t/**\n\t\t * Triggered when the keyboard moves focus on the calendar. {date: [Date object], formattedDate: [string]}  _Tested with Mocha framework._\n\t\t */\n\t\tonCalendarFocus: PropTypes.func,\n\t\t/**\n\t\t * Triggered when the calendar is supposed to close.\n\t\t */\n\t\tonRequestClose: PropTypes.func.isRequired,\n\t\t/**\n\t\t * Triggered when a date on the calendar is clicked.\n\t\t */\n\t\tonSelectDate: PropTypes.func.isRequired,\n\t\t/**\n\t\t * The earliest year that can be selected in the year selection dropdown.\n\t\t */\n\t\trelativeYearFrom: PropTypes.number.isRequired,\n\t\t/**\n\t\t * The maximum year that can be selected in the year selection dropdown.\n\t\t */\n\t\trelativeYearTo: PropTypes.number.isRequired,\n\t\t/**\n\t\t * Currently selected date\n\t\t */\n\t\tselectedDate: PropTypes.instanceOf(Date),\n\t\t/**\n\t\t * Component reference / DOM node for selected day.\n\t\t */\n\t\tselectedDateRef: PropTypes.func,\n\t\t/**\n\t\t * Label of shortcut to jump to today within the calendar. Also used for assistive text for the current day.\n\t\t */\n\t\ttodayLabel: PropTypes.string.isRequired,\n\t\t/**\n\t\t * Names of the seven days of the week, starting on Sunday.\n\t\t */\n\t\tweekDayLabels: PropTypes.array.isRequired,\n\t};\n\n\tstate = {\n\t\tinitialDateForCalendarRender: this.props.selectedDate,\n\t\tisCalendarFocused: true,\n\t};\n\n\thandleCalendarBlur = (event, { direction }) => {\n\t\tif (direction === 'next' && this.previousMonthRef) {\n\t\t\tthis.setState({ isCalendarFocused: false });\n\t\t\tif (this.props.onCalendarFocus) {\n\t\t\t\tthis.props.onCalendarFocus(event, {\n\t\t\t\t\tdirection,\n\t\t\t\t\tisCalendarFocused: false,\n\t\t\t\t\tref: this.previousMonthRef,\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.previousMonthRef.focus();\n\t\t} else if (direction === 'previous' && this.todayRef) {\n\t\t\tthis.setState({ isCalendarFocused: false });\n\t\t\tif (this.props.onCalendarFocus) {\n\t\t\t\tthis.props.onCalendarFocus(event, {\n\t\t\t\t\tdirection,\n\t\t\t\t\tisCalendarFocused: false,\n\t\t\t\t\tref: this.todayRef,\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.todayRef.focus();\n\t\t}\n\t};\n\n\thandleFirstFocusableNodeKeyDown = (event) => {\n\t\tif (event.shiftKey && event.keyCode === KEYS.TAB) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t\tthis.setState({ isCalendarFocused: true });\n\t\t}\n\t};\n\n\thandleInitialDateForCalendarRenderChange = (\n\t\tevent,\n\t\tinitialDateForCalendarRender\n\t) => {\n\t\tthis.setState({ initialDateForCalendarRender });\n\t};\n\n\thandleKeyDown = (event) => {\n\t\tif (event.keyCode === KEYS.ESCAPE) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t\tthis.props.onRequestClose(event, {});\n\t\t}\n\t};\n\n\thandleLastFocusableNodeKeyDown = (event) => {\n\t\tif (!event.shiftKey && event.keyCode === KEYS.TAB) {\n\t\t\tEventUtil.trapEvent(event);\n\t\t\tthis.setState({ isCalendarFocused: true });\n\t\t}\n\t};\n\n\thandleRequestClose = (event) => {\n\t\tif (this.props.onRequestClose) {\n\t\t\tthis.props.onRequestClose(event, {});\n\t\t}\n\t};\n\n\thandleRequestFocusDate = (event, data) => {\n\t\t// will be called three times, due to re-render\n\t\tif (data.ref && this.state.isCalendarFocused) {\n\t\t\tdata.ref.focus();\n\t\t}\n\n\t\t// only call on actual DOM event and not on re-render\n\t\tif (this.props.onCalendarFocus && data.triggerCallback) {\n\t\t\tconst { triggerCallback, ...modifiedData } = data; // eslint-disable-line no-unused-vars\n\t\t\tthis.props.onCalendarFocus(event, modifiedData);\n\t\t}\n\t};\n\n\trender () {\n\t\treturn (\n\t\t\t<div // eslint-disable-line jsx-a11y/no-static-element-interactions\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-datepicker': this.props.isolated,\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\taria-hidden=\"false\"\n\t\t\t\tdata-selection=\"single\"\n\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t>\n\t\t\t\t<CalendarNavigation\n\t\t\t\t\tassistiveTextNextMonth={this.props.assistiveTextNextMonth}\n\t\t\t\t\tassistiveTextPreviousMonth={this.props.assistiveTextPreviousMonth}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tinitialDateForCalendarRender={this.state.initialDateForCalendarRender}\n\t\t\t\t\tmonthLabels={this.props.monthLabels}\n\t\t\t\t\tonChangeMonth={this.handleInitialDateForCalendarRenderChange}\n\t\t\t\t\tpreviousMonthRef={(component) => {\n\t\t\t\t\t\tthis.previousMonthRef = component;\n\t\t\t\t\t}}\n\t\t\t\t\tonPreviousMonthKeyDown={this.handleFirstFocusableNodeKeyDown}\n\t\t\t\t\trelativeYearFrom={this.props.relativeYearFrom}\n\t\t\t\t\trelativeYearTo={this.props.relativeYearTo}\n\t\t\t\t/>\n\t\t\t\t<Calendar\n\t\t\t\t\tabbreviatedWeekDayLabels={this.props.abbreviatedWeekDayLabels}\n\t\t\t\t\tdateDisabled={this.props.dateDisabled}\n\t\t\t\t\tid={this.props.id}\n\t\t\t\t\tinitialDateForCalendarRender={this.state.initialDateForCalendarRender}\n\t\t\t\t\tisIsoWeekday={this.props.isIsoWeekday}\n\t\t\t\t\tonCalendarBlur={this.handleCalendarBlur}\n\t\t\t\t\tonChangeMonth={this.handleInitialDateForCalendarRenderChange}\n\t\t\t\t\tonRequestClose={this.handleRequestClose}\n\t\t\t\t\tonRequestInternalFocusDate={this.handleRequestFocusDate}\n\t\t\t\t\tonSelectDate={this.props.onSelectDate}\n\t\t\t\t\tselectedDate={this.props.selectedDate}\n\t\t\t\t\tselectedDateRef={this.props.selectedDateRef}\n\t\t\t\t\ttodayLabel={this.props.todayLabel}\n\t\t\t\t\ttodayRef={(component) => {\n\t\t\t\t\t\tthis.todayRef = component;\n\t\t\t\t\t}}\n\t\t\t\t\tonLastFocusableNodeKeyDown={this.handleLastFocusableNodeKeyDown}\n\t\t\t\t\tweekDayLabels={this.props.weekDayLabels}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default DatepickerCalendarWrapper;\n"],"file":"calendar-wrapper.js"}