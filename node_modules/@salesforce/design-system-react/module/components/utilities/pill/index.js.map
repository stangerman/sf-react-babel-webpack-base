{"version":3,"sources":["../../../../.tmp-es/components/utilities/pill/index.jsx"],"names":["React","PropTypes","assign","KEYS","mapKeyEventCallbacks","EventUtil","SLDSPill","propTypes","active","bool","assistiveText","shape","remove","string","eventData","object","events","onClick","func","onRequestFocus","isRequired","onRequestFocusOnNextPill","onRequestFocusOnPreviousPill","onRequestRemove","icon","element","labels","label","removeTitle","requestFocus","title","tabIndex","number","defaultProps","handleKeyDown","event","data","callbacks","BACKSPACE","callback","DELETE","LEFT","direction","RIGHT","handleClickRemove","trap","Pill","props","onBlur","option","component","undefined","ref","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nimport assign from 'lodash.assign';\n\nimport KEYS from '../../../utilities/key-code';\nimport mapKeyEventCallbacks from '../../../utilities/key-callbacks';\nimport EventUtil from '../../../utilities/event';\n\nimport SLDSPill from '../../../components/pill';\n\nconst propTypes = {\n\t/**\n\t * Pill is the active pill within a listbox of pills. This will request focus on the DOM node.\n\t */\n\tactive: PropTypes.bool,\n\t/**\n\t * **Assistive text for accessibility**\n\t * This object is merged with the default props object on every render.\n\t * * `pressDeleteOrBackspace`: Informs user of keyboard keys to press in order to remove a pill\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tremove: PropTypes.string,\n\t}),\n\t/*\n\t * Pills are often used for selection of a type of entity such as days in a daypicker. This prop allows you to pass in data that will be passed back to the event handler.\n\t */\n\teventData: PropTypes.object,\n\t/*\n\t * Callback called when pill is clicked, delete is pressed, or backspace is pressed.\n\t */\n\tevents: PropTypes.shape({\n\t\tonClick: PropTypes.func,\n\t\tonRequestFocus: PropTypes.func.isRequired,\n\t\tonRequestFocusOnNextPill: PropTypes.func.isRequired,\n\t\tonRequestFocusOnPreviousPill: PropTypes.func.isRequired,\n\t\tonRequestRemove: PropTypes.func.isRequired,\n\t}),\n\t/*\n\t * The icon next to the pill label.\n\t */\n\ticon: PropTypes.element,\n\t/*\n\t * Pill Label\n\t */\n\tlabels: PropTypes.shape({\n\t\tlabel: PropTypes.string.isRequired,\n\t\tremoveTitle: PropTypes.string,\n\t}),\n\t/*\n\t * If true and is active pill in listbox, will trigger `events.onRequestFocus`\n\t */\n\trequestFocus: PropTypes.bool,\n\t/*\n\t * Pill Title\n\t */\n\ttitle: PropTypes.string,\n\t/*\n\t * Allows the user to tab to the node\n\t */\n\ttabIndex: PropTypes.number,\n};\n\nconst defaultProps = {\n\tassistiveText: PropTypes.shape({\n\t\tremove: ', Press delete or backspace to remove',\n\t}),\n\tlabels: {\n\t\tremove: 'Remove',\n\t},\n\tevents: {},\n};\n\nconst handleKeyDown = (event, { events, data }) => {\n\t// Helper function that takes an object literal of callbacks that are triggered with a key event\n\tmapKeyEventCallbacks(event, {\n\t\tcallbacks: {\n\t\t\t[KEYS.BACKSPACE]: { callback: events.onRequestRemove, data },\n\t\t\t[KEYS.DELETE]: { callback: events.onRequestRemove, data },\n\t\t\t[KEYS.LEFT]: {\n\t\t\t\tcallback: events.onRequestFocusOnPreviousPill,\n\t\t\t\tdata: { ...data, direction: 'previous' },\n\t\t\t},\n\t\t\t[KEYS.RIGHT]: {\n\t\t\t\tcallback: events.onRequestFocusOnNextPill,\n\t\t\t\tdata: { ...data, direction: 'next' },\n\t\t\t},\n\t\t},\n\t});\n};\n\nconst handleClickRemove = (event, { events, eventData }) => {\n\tEventUtil.trap(event);\n\tevents.onRequestRemove(event, eventData);\n};\n\nconst Pill = (props) => {\n\tconst assistiveText = assign(\n\t\t{},\n\t\tdefaultProps.assistiveText,\n\t\tprops.assistiveText\n\t);\n\tconst labels = assign({}, defaultProps.labels, props.labels);\n\n\treturn (\n\t\t<SLDSPill\n\t\t\ttabIndex={props.tabIndex || '0'}\n\t\t\ticon={props.icon}\n\t\t\tvariant=\"option\"\n\t\t\tlabels={labels}\n\t\t\tassistiveText={{\n\t\t\t\tremove: assistiveText.remove,\n\t\t\t}}\n\t\t\taria-selected={props.active}\n\t\t\tonBlur={props.events.onBlur}\n\t\t\tonClick={\n\t\t\t\ttypeof props.events.onClick === 'function'\n\t\t\t\t\t? (event) => {\n\t\t\t\t\t\tif (props.events.onClick) {\n\t\t\t\t\t\t\tprops.events.onClick(event, {\n\t\t\t\t\t\t\t\toption: props.eventData,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t: null\n\t\t\t}\n\t\t\tonRemove={(event) => {\n\t\t\t\tEventUtil.trap(event);\n\t\t\t\thandleClickRemove(event, {\n\t\t\t\t\tevents: props.events,\n\t\t\t\t\teventData: props.eventData,\n\t\t\t\t});\n\t\t\t}}\n\t\t\tonKeyDown={(event) => {\n\t\t\t\thandleKeyDown(event, {\n\t\t\t\t\tevents: props.events,\n\t\t\t\t\tdata: props.eventData,\n\t\t\t\t});\n\t\t\t}}\n\t\t\tref={(component) => {\n\t\t\t\tif (props.requestFocus && props.active) {\n\t\t\t\t\tprops.events.onRequestFocus(undefined, { ref: component });\n\t\t\t\t}\n\t\t\t}}\n\t\t/>\n\t);\n};\n\nPill.displayName = 'Pill';\nPill.propTypes = propTypes;\nPill.defaultProps = defaultProps;\n\nexport default Pill;\n"],"file":"index.js"}