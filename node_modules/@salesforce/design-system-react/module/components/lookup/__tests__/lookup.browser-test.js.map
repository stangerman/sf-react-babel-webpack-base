{"version":3,"sources":["../../../../.tmp-es/components/lookup/__tests__/lookup.browser-test.jsx"],"names":["React","ReactDOM","assign","TestUtils","expect","SLDSLookup","IconSettings","Header","Footer","Simulate","scryRenderedDOMComponentsWithClass","scryRenderedDOMComponentsWithTag","describe","generateLookup","lookupInstance","reactCmp","renderIntoDocument","findDOMNode","defaultProps","emptyMessage","footerRenderer","iconCategory","iconName","isInline","label","onChange","newValue","console","log","onSelect","item","options","getLookup","props","createElement","getLookupWithHeader","headerRenderer","getLookupWithSelection","selectedItem","getItems","lookup","getElementsByClassName","it","to","not","equal","undefined","getElementsByTagName","textContent","isOpen","input","ariaExpanded","getAttribute","labelFor","inputId","click","deleteBtn","keyDown","key","keyCode","which","ariaActiveDescendant","selected","menu","length","focusedItem","className","have","string","beforeEach","change","target","value","filterWith","text","i"],"mappings":"AAAA;;AACA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,OAAOC,MAAP,MAAmB,eAAnB;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,SAASC,MAAT,QAAuB,MAAvB;AAEA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AAEA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;IAGCC,Q,GAGGN,S,CAHHM,Q;IACAC,kC,GAEGP,S,CAFHO,kC;IACAC,gC,GACGR,S,CADHQ,gC;AAGDC,SAAS,cAAT,EAAyB,YAAM;AAC9B,MAAMC,iBAAiB,SAAjBA,cAAiB,CAAUC,cAAV,EAA0B;AAChD,QAAMC,WAAWZ,UAAUa,kBAAV,CAChB,oBAAC,YAAD;AAAc,gBAAS;AAAvB,OAAwCF,cAAxC,CADgB,CAAjB;AAGA,WAAOb,SAASgB,WAAT,CAAqBF,QAArB,CAAP;AACA,GALD;;AAOA,MAAMG,eAAe;AACpBC,kBAAc,gBADM;AAEpBC,oBAAgBZ,MAFI;AAGpBa,kBAAc,UAHM;AAIpBC,cAAU,SAJU;AAKpBC,cAAU,IALU;AAMpBC,WAAO,SANa;AAOpBC,YAPoB,oBAOVC,QAPU,EAOA;AACnBC,cAAQC,GAAR,CAAY,mBAAZ,EAAiCF,QAAjC;AACA,KATmB;AAUpBG,YAVoB,oBAUVC,IAVU,EAUJ;AACfH,cAAQC,GAAR,CAAYE,IAAZ,EAAkB,WAAlB;AACA,KAZmB;AAapBC,aAAS,CACR;AAAEP,aAAO;AAAT,KADQ,EAER;AAAEA,aAAO;AAAT,KAFQ,EAGR;AAAEA,aAAO;AAAT,KAHQ,EAIR;AAAEA,aAAO;AAAT,KAJQ,EAKR;AAAEA,aAAO;AAAT,KALQ,EAMR;AAAEA,aAAO;AAAT,KANQ;AAbW,GAArB;;AAuBA,MAAMQ,YAAY,SAAZA,SAAY;AAAA,QAACC,KAAD,uEAAS,EAAT;AAAA,WACjBjC,MAAMkC,aAAN,CAAoB7B,UAApB,EAAgCH,OAAO,EAAP,EAAWgB,YAAX,EAAyBe,KAAzB,CAAhC,CADiB;AAAA,GAAlB;;AAEA,MAAME,sBAAsB,SAAtBA,mBAAsB;AAAA,QAACF,KAAD,uEAAS;AAAEG,sBAAgB7B;AAAlB,KAAT;AAAA,WAC3BP,MAAMkC,aAAN,CAAoB7B,UAApB,EAAgCH,OAAO,EAAP,EAAWgB,YAAX,EAAyBe,KAAzB,CAAhC,CAD2B;AAAA,GAA5B;;AAEA,MAAMI,yBAAyB,SAAzBA,sBAAyB;AAAA,QAACJ,KAAD,uEAAS;AAAEK,oBAAc;AAAhB,KAAT;AAAA,WAC9BtC,MAAMkC,aAAN,CAAoB7B,UAApB,EAAgCH,OAAO,EAAP,EAAWgB,YAAX,EAAyBe,KAAzB,CAAhC,CAD8B;AAAA,GAA/B;;AAGA,MAAMM,WAAW,SAAXA,QAAW,CAACC,MAAD;AAAA,WAChBA,OAAOC,sBAAP,CAA8B,sBAA9B,CADgB;AAAA,GAAjB;;AAGA7B,WAAS,mBAAT,EAA8B,YAAM;AACnC8B,OAAG,gBAAH,EAAqB,YAAM;AAC1B,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA5B,aAAOoC,MAAP,EAAeG,EAAf,CAAkBC,GAAlB,CAAsBC,KAAtB,CAA4BC,SAA5B;AACA,KAHD;AAIA,GALD;AAOAlC,WAAS,8BAAT,EAAyC,YAAM;AAC9C8B,OAAG,eAAH,EAAoB,YAAM;AACzB,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMR,QAAQgB,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA3C,aAAOoB,MAAMwB,WAAb,EAA0BL,EAA1B,CAA6BE,KAA7B,CAAmC,SAAnC;AACA,KAJD;AAMAH,OAAG,qCAAH,EAA0C,YAAM;AAC/C,UAAMF,SAAS3B,eAAewB,wBAAf,CAAf;AACA,UAAMb,QAAQgB,OAAOO,oBAAP,CAA4B,MAA5B,EAAoC,CAApC,CAAd;AACA3C,aAAOoB,MAAMwB,WAAb,EAA0BL,EAA1B,CAA6BE,KAA7B,CAAmC,SAAnC;AACA,KAJD;AAMAH,OAAG,mCAAH,EAAwC,YAAM;AAC7C,UAAMF,SAAS3B,eAAemB,UAAU;AAAEiB,gBAAQ;AAAV,OAAV,CAAf,CAAf;AACA,UAAMC,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA,UAAMI,eAAeD,MAAME,YAAN,CAAmB,eAAnB,CAArB;AACAhD,aAAO+C,YAAP,EAAqBR,EAArB,CAAwBE,KAAxB,CAA8B,MAA9B;AACA,KALD;AAMA,GAnBD;AAqBAjC,WAAS,6BAAT,EAAwC,YAAM;AAC7C8B,OAAG,4BAAH,EAAiC,YAAM;AACtC,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMqB,WAAWb,OACfO,oBADe,CACM,OADN,EACe,CADf,EAEfK,YAFe,CAEF,KAFE,CAAjB;AAGA,UAAME,UAAUd,OACdO,oBADc,CACO,OADP,EACgB,CADhB,EAEdK,YAFc,CAED,IAFC,CAAhB;AAGAhD,aAAOiD,QAAP,EAAiBV,EAAjB,CAAoBE,KAApB,CAA0BS,OAA1B;AACA,KATD;AAUA,GAXD;AAaA1C,WAAS,oCAAT,EAA+C,YAAM;AACpD8B,OAAG,iCAAH,EAAsC,YAAM;AAC3C,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMmB,eAAeX,OACnBO,oBADmB,CACE,OADF,EACW,CADX,EAEnBK,YAFmB,CAEN,eAFM,CAArB;AAGAhD,aAAO+C,YAAP,EAAqBR,EAArB,CAAwBE,KAAxB,CAA8B,OAA9B;AACA,KAND;AAQAH,OAAG,oDAAH,EAAyD,YAAM;AAC9D,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMkB,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA,UAAMC,eAAeX,OACnBO,oBADmB,CACE,OADF,EACW,CADX,EAEnBK,YAFmB,CAEN,eAFM,CAArB;AAGAhD,aAAO+C,YAAP,EAAqBR,EAArB,CAAwBE,KAAxB,CAA8B,MAA9B;AACA,KARD;AAUAH,OAAG,qEAAH,EAA0E,YAAM;AAC/E,UAAMF,SAAS3B,eAAewB,wBAAf,CAAf;AACA,UAAMmB,YAAYhB,OAAOO,oBAAP,CAA4B,QAA5B,EAAsC,CAAtC,CAAlB;AACA5C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BD,SAA3B,EAAsC;AACrCE,aAAK,MADgC;AAErCC,iBAAS,EAF4B;AAGrCC,eAAO;AAH8B,OAAtC;AAKA,UAAMT,eAAeX,OACnBO,oBADmB,CACE,OADF,EACW,CADX,EAEnBK,YAFmB,CAEN,eAFM,CAArB;AAGAhD,aAAO+C,YAAP,EAAqBR,EAArB,CAAwBE,KAAxB,CAA8B,MAA9B;AACA,KAZD;AAaA,GAhCD;AAkCAjC,WAAS,sBAAT,EAAiC,YAAM;AACtC8B,OAAG,uCAAH,EAA4C,YAAM;AACjD,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMkB,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA/C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKA,UAAMC,uBAAuBrB,OAC3BO,oBAD2B,CACN,OADM,EACG,CADH,EAE3BK,YAF2B,CAEd,uBAFc,CAA7B;AAGAhD,aAAOyD,oBAAP,EAA6BlB,EAA7B,CAAgCE,KAAhC,CAAsC,QAAtC;AACA,KAlBD;AAoBAH,OAAG,yCAAH,EAA8C,YAAM;AACnD,UAAMF,SAAS3B,eAAesB,qBAAf,CAAf;AACA,UAAMe,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA/C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKA,UAAMC,uBAAuBrB,OAC3BO,oBAD2B,CACN,OADM,EACG,CADH,EAE3BK,YAF2B,CAEd,uBAFc,CAA7B;AAGAhD,aAAOyD,oBAAP,EAA6BlB,EAA7B,CAAgCE,KAAhC,CAAsC,QAAtC;AACA,KAlBD;AAoBAH,OAAG,iCAAH,EAAsC,YAAM;AAC3C,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMkB,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA/C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,OAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKA,UAAME,WAAWtB,OACfO,oBADe,CACM,GADN,EACW,CADX,EAEfN,sBAFe,CAEQ,kBAFR,EAE4B,CAF5B,EAE+BO,WAFhD;AAGA5C,aAAO0D,QAAP,EAAiBnB,EAAjB,CAAoBE,KAApB,CAA0B,wBAA1B;AACA,KA5BD;AA8BAH,OAAG,mCAAH,EAAwC,YAAM;AAC7C,UAAMF,SAAS3B,eAAesB,qBAAf,CAAf;AACA,UAAMe,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA/C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,OAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKA,UAAME,WAAWtB,OACfO,oBADe,CACM,GADN,EACW,CADX,EAEfN,sBAFe,CAEQ,kBAFR,EAE4B,CAF5B,EAE+BO,WAFhD;AAGA5C,aAAO0D,QAAP,EAAiBnB,EAAjB,CAAoBE,KAApB,CAA0B,aAA1B;AACA,KA5BD;AA8BAH,OAAG,2BAAH,EAAgC,YAAM;AACrC,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMkB,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA/C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AAAEQ,aAAK,KAAP;AAAcC,iBAAS,EAAvB;AAA2BC,eAAO;AAAlC,OAAlC;AACA,UAAMT,eAAeD,MAAME,YAAN,CAAmB,eAAnB,CAArB;AACAhD,aAAO+C,YAAP,EAAqBR,EAArB,CAAwBE,KAAxB,CAA8B,OAA9B;AACA,KAZD;AAcAH,OAAG,6CAAH,EAAkD,YAAM;AACvD,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMkB,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA/C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKAzD,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,OAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKA,UAAMG,OAAOvB,OAAOO,oBAAP,CAA4B,IAA5B,CAAb;AACA3C,aAAO2D,KAAKC,MAAZ,EAAoBrB,EAApB,CAAuBE,KAAvB,CAA6B,CAA7B;AACA,KAhBD;AAkBAH,OAAG,+BAAH,EAAoC,YAAM;AACzC,UAAMF,SAAS3B,eAAemB,WAAf,CAAf;AACA,UAAMkB,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA5C,gBAAUM,QAAV,CAAmB8C,KAAnB,CAAyBL,KAAzB;AACA/C,gBAAUM,QAAV,CAAmBgD,OAAnB,CAA2BP,KAA3B,EAAkC;AACjCQ,aAAK,MAD4B;AAEjCC,iBAAS,EAFwB;AAGjCC,eAAO;AAH0B,OAAlC;AAKA,UAAMK,cAAczB,OAClBO,oBADkB,CACG,IADH,EACS,CADT,EAElBA,oBAFkB,CAEG,IAFH,EAES,CAFT,CAApB;AAGA3C,aAAO6D,YAAYC,SAAnB,EAA8BvB,EAA9B,CAAiCwB,IAAjC,CAAsCC,MAAtC,CAA6C,mBAA7C;AACA,KAbD;AAeA1B,OAAG,6CAAH,EAAkD,YAAM;AACvD,UAAMF,SAAS3B,eAAemB,UAAU;AAAEiB,gBAAQ;AAAV,OAAV,CAAf,CAAf;AACA,UAAMC,QAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAd;AACA3C,aAAO8C,MAAME,YAAN,CAAmB,eAAnB,CAAP,EAA4CT,EAA5C,CAA+CE,KAA/C,CAAqD,OAArD;AACApC,eAAS8C,KAAT,CAAeL,KAAf;AACA9C,aAAO8C,MAAME,YAAN,CAAmB,eAAnB,CAAP,EAA4CT,EAA5C,CAA+CE,KAA/C,CAAqD,OAArD;AACA,KAND;AAOA,GA3JD;AA6JAjC,WAAS,UAAT,EAAqB,YAAM;AAC1B,QAAI4B,MAAJ;AACA,QAAIU,KAAJ;AAEAmB,eAAW,YAAM;AAChB7B,eAAS3B,eAAemB,WAAf,CAAT;AACAkB,cAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAR;AACAtC,eAAS8C,KAAT,CAAeL,KAAf;AACA,KAJD;AAMAR,OAAG,mBAAH,EAAwB,YAAM;AAC7BjC,eAAS6D,MAAT,CAAgBpB,KAAhB,EAAuB;AAAEqB,gBAAQ;AAAEC,iBAAO;AAAT;AAAV,OAAvB;AACApE,aAAOmC,SAASC,MAAT,EAAiBwB,MAAxB,EAAgCrB,EAAhC,CAAmCE,KAAnC,CAAyC,CAAzC;AACA,KAHD;AAKAH,OAAG,gCAAH,EAAqC,YAAM;AAC1CjC,eAAS6D,MAAT,CAAgBpB,KAAhB,EAAuB;AAAEqB,gBAAQ;AAAEC,iBAAO;AAAT;AAAV,OAAvB;AACApE,aAAOmC,SAASC,MAAT,EAAiBwB,MAAxB,EAAgCrB,EAAhC,CAAmCE,KAAnC,CAAyC,CAAzC,EAF0C,CAEG;AAC7C,KAHD;AAKAH,OAAG,+BAAH,EAAoC,YAAM;AACzCjC,eAAS6D,MAAT,CAAgBpB,KAAhB,EAAuB;AAAEqB,gBAAQ;AAAEC,iBAAO;AAAT;AAAV,OAAvB;AACApE,aAAOmC,SAASC,MAAT,EAAiBwB,MAAxB,EAAgCrB,EAAhC,CAAmCE,KAAnC,CAAyC,CAAzC;AACA,KAHD;AAKAH,OAAG,wCAAH,EAA6C,YAAM;AAClDtC,aACCoC,OAAOC,sBAAP,CAA8B,sBAA9B,EAAsDuB,MADvD,EAEErB,EAFF,CAEKE,KAFL,CAEW,CAFX;AAGApC,eAAS6D,MAAT,CAAgBpB,KAAhB,EAAuB;AAAEqB,gBAAQ;AAAEC,iBAAO;AAAT;AAAV,OAAvB;AACApE,aAAOmC,SAASC,MAAT,EAAiBwB,MAAxB,EAAgCrB,EAAhC,CAAmCE,KAAnC,CAAyC,CAAzC,EALkD,CAKL;;AAC7CzC,aACCoC,OAAOC,sBAAP,CAA8B,sBAA9B,EAAsDuB,MADvD,EAEErB,EAFF,CAEKE,KAFL,CAEW,CAFX;AAGA,KATD;AAUA,GAnCD;AAqCAjC,WAAS,eAAT,EAA0B,YAAM;AAC/B,QAAI4B,MAAJ;AACA,QAAIU,KAAJ;AAEAmB,eAAW,YAAM;AAChB7B,eAAS3B,eACRmB,UAAU;AAAEyC,oBAAY,oBAACC,IAAD,EAAOC,CAAP;AAAA,iBAAaD,SAASC,EAAEnD,KAAF,CAAQ,CAAR,CAAtB;AAAA;AAAd,OAAV,CADQ,CAAT;AAGA0B,cAAQV,OAAOO,oBAAP,CAA4B,OAA5B,EAAqC,CAArC,CAAR;AACAtC,eAAS8C,KAAT,CAAeL,KAAf;AACA,KAND;AAQAR,OAAG,kDAAH,EAAuD,YAAM;AAC5DjC,eAAS6D,MAAT,CAAgBpB,KAAhB,EAAuB;AAAEqB,gBAAQ;AAAEC,iBAAO;AAAT;AAAV,OAAvB;AACApE,aAAOmC,SAASC,MAAT,EAAiBwB,MAAxB,EAAgCrB,EAAhC,CAAmCE,KAAnC,CAAyC,CAAzC;AACApC,eAAS6D,MAAT,CAAgBpB,KAAhB,EAAuB;AAAEqB,gBAAQ;AAAEC,iBAAO;AAAT;AAAV,OAAvB;AACApE,aAAOmC,SAASC,MAAT,EAAiBwB,MAAxB,EAAgCrB,EAAhC,CAAmCE,KAAnC,CAAyC,CAAzC;AACA,KALD;AAMA,GAlBD;AAmBA,CAzUD","sourcesContent":["/* eslint-disable react/no-render-return-value */\n/* eslint-disable react/no-find-dom-node */\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport assign from 'lodash.assign';\nimport TestUtils from 'react-addons-test-utils';\nimport { expect } from 'chai';\n\nimport SLDSLookup from '../../lookup';\nimport IconSettings from '../../icon-settings';\n\nimport Header from '../../lookup/header';\nimport Footer from '../../lookup/footer';\n\nconst {\n\tSimulate,\n\tscryRenderedDOMComponentsWithClass,\n\tscryRenderedDOMComponentsWithTag,\n} = TestUtils;\n\ndescribe('SLDSLookup: ', () => {\n\tconst generateLookup = function (lookupInstance) {\n\t\tconst reactCmp = TestUtils.renderIntoDocument(\n\t\t\t<IconSettings iconPath=\"/assets/icons\">{lookupInstance}</IconSettings>\n\t\t);\n\t\treturn ReactDOM.findDOMNode(reactCmp);\n\t};\n\n\tconst defaultProps = {\n\t\temptyMessage: 'No items found',\n\t\tfooterRenderer: Footer,\n\t\ticonCategory: 'standard',\n\t\ticonName: 'account',\n\t\tisInline: true,\n\t\tlabel: 'Account',\n\t\tonChange (newValue) {\n\t\t\tconsole.log('New search term: ', newValue);\n\t\t},\n\t\tonSelect (item) {\n\t\t\tconsole.log(item, ' Selected');\n\t\t},\n\t\toptions: [\n\t\t\t{ label: 'Paddy\"s Pub' },\n\t\t\t{ label: 'Tyrell Corp' },\n\t\t\t{ label: 'Paper St. Soap Company' },\n\t\t\t{ label: 'Nakatomi Investments' },\n\t\t\t{ label: 'Acme Landscaping' },\n\t\t\t{ label: 'Acme Construction' },\n\t\t],\n\t};\n\n\tconst getLookup = (props = {}) =>\n\t\tReact.createElement(SLDSLookup, assign({}, defaultProps, props));\n\tconst getLookupWithHeader = (props = { headerRenderer: Header }) =>\n\t\tReact.createElement(SLDSLookup, assign({}, defaultProps, props));\n\tconst getLookupWithSelection = (props = { selectedItem: 1 }) =>\n\t\tReact.createElement(SLDSLookup, assign({}, defaultProps, props));\n\n\tconst getItems = (lookup) =>\n\t\tlookup.getElementsByClassName('js-slds-lookup__item');\n\n\tdescribe('component renders', () => {\n\t\tit('lookup renders', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\texpect(lookup).to.not.equal(undefined);\n\t\t});\n\t});\n\n\tdescribe('component basic props render', () => {\n\t\tit('renders label', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst label = lookup.getElementsByTagName('label')[0];\n\t\t\texpect(label.textContent).to.equal('Account');\n\t\t});\n\n\t\tit('LookupWithSelection - renders label', () => {\n\t\t\tconst lookup = generateLookup(getLookupWithSelection());\n\t\t\tconst label = lookup.getElementsByTagName('span')[0];\n\t\t\texpect(label.textContent).to.equal('Account');\n\t\t});\n\n\t\tit('isOpen=true renders open dropdown', () => {\n\t\t\tconst lookup = generateLookup(getLookup({ isOpen: true }));\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tconst ariaExpanded = input.getAttribute('aria-expanded');\n\t\t\texpect(ariaExpanded).to.equal('true');\n\t\t});\n\t});\n\n\tdescribe('accessibility markup passes', () => {\n\t\tit('label for matches input id', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst labelFor = lookup\n\t\t\t\t.getElementsByTagName('label')[0]\n\t\t\t\t.getAttribute('for');\n\t\t\tconst inputId = lookup\n\t\t\t\t.getElementsByTagName('input')[0]\n\t\t\t\t.getAttribute('id');\n\t\t\texpect(labelFor).to.equal(inputId);\n\t\t});\n\t});\n\n\tdescribe('accessibility aria attributes pass', () => {\n\t\tit('aria-expanded is false initally', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst ariaExpanded = lookup\n\t\t\t\t.getElementsByTagName('input')[0]\n\t\t\t\t.getAttribute('aria-expanded');\n\t\t\texpect(ariaExpanded).to.equal('false');\n\t\t});\n\n\t\tit('aria-expanded is true when clicking on input field', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tconst ariaExpanded = lookup\n\t\t\t\t.getElementsByTagName('input')[0]\n\t\t\t\t.getAttribute('aria-expanded');\n\t\t\texpect(ariaExpanded).to.equal('true');\n\t\t});\n\n\t\tit('LookupWithSelection - aria-expanded is true when deleting selection', () => {\n\t\t\tconst lookup = generateLookup(getLookupWithSelection());\n\t\t\tconst deleteBtn = lookup.getElementsByTagName('button')[0];\n\t\t\tTestUtils.Simulate.keyDown(deleteBtn, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 46,\n\t\t\t\twhich: 46,\n\t\t\t});\n\t\t\tconst ariaExpanded = lookup\n\t\t\t\t.getElementsByTagName('input')[0]\n\t\t\t\t.getAttribute('aria-expanded');\n\t\t\texpect(ariaExpanded).to.equal('true');\n\t\t});\n\t});\n\n\tdescribe('selecting item works', () => {\n\t\tit('no fixed header: focuses correct item', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tconst ariaActiveDescendant = lookup\n\t\t\t\t.getElementsByTagName('input')[0]\n\t\t\t\t.getAttribute('aria-activedescendant');\n\t\t\texpect(ariaActiveDescendant).to.equal('item-1');\n\t\t});\n\n\t\tit('with fixed header: focuses correct item', () => {\n\t\t\tconst lookup = generateLookup(getLookupWithHeader());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tconst ariaActiveDescendant = lookup\n\t\t\t\t.getElementsByTagName('input')[0]\n\t\t\t\t.getAttribute('aria-activedescendant');\n\t\t\texpect(ariaActiveDescendant).to.equal('item-0');\n\t\t});\n\n\t\tit('no header: selects correct item', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Enter',\n\t\t\t\tkeyCode: 13,\n\t\t\t\twhich: 13,\n\t\t\t});\n\t\t\tconst selected = lookup\n\t\t\t\t.getElementsByTagName('a')[0]\n\t\t\t\t.getElementsByClassName('slds-pill__label')[0].textContent;\n\t\t\texpect(selected).to.equal('Paper St. Soap Company');\n\t\t});\n\n\t\tit('with header: selects correct item', () => {\n\t\t\tconst lookup = generateLookup(getLookupWithHeader());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Enter',\n\t\t\t\tkeyCode: 13,\n\t\t\t\twhich: 13,\n\t\t\t});\n\t\t\tconst selected = lookup\n\t\t\t\t.getElementsByTagName('a')[0]\n\t\t\t\t.getElementsByClassName('slds-pill__label')[0].textContent;\n\t\t\texpect(selected).to.equal('Tyrell Corp');\n\t\t});\n\n\t\tit('closes lookup menu on esc', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, { key: 'Esc', keyCode: 27, which: 27 });\n\t\t\tconst ariaExpanded = input.getAttribute('aria-expanded');\n\t\t\texpect(ariaExpanded).to.equal('false');\n\t\t});\n\n\t\tit('aria-expanded is false after selecting item', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Enter',\n\t\t\t\tkeyCode: 13,\n\t\t\t\twhich: 13,\n\t\t\t});\n\t\t\tconst menu = lookup.getElementsByTagName('ul');\n\t\t\texpect(menu.length).to.equal(0);\n\t\t});\n\n\t\tit('focusedItem has correct style', () => {\n\t\t\tconst lookup = generateLookup(getLookup());\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\tTestUtils.Simulate.click(input);\n\t\t\tTestUtils.Simulate.keyDown(input, {\n\t\t\t\tkey: 'Down',\n\t\t\t\tkeyCode: 40,\n\t\t\t\twhich: 40,\n\t\t\t});\n\t\t\tconst focusedItem = lookup\n\t\t\t\t.getElementsByTagName('ul')[0]\n\t\t\t\t.getElementsByTagName('li')[0];\n\t\t\texpect(focusedItem.className).to.have.string('slds-theme--shade');\n\t\t});\n\n\t\tit('isOpen=false prevents dropdown from opening', () => {\n\t\t\tconst lookup = generateLookup(getLookup({ isOpen: false }));\n\t\t\tconst input = lookup.getElementsByTagName('input')[0];\n\t\t\texpect(input.getAttribute('aria-expanded')).to.equal('false');\n\t\t\tSimulate.click(input);\n\t\t\texpect(input.getAttribute('aria-expanded')).to.equal('false');\n\t\t});\n\t});\n\n\tdescribe('expanded', () => {\n\t\tlet lookup;\n\t\tlet input;\n\n\t\tbeforeEach(() => {\n\t\t\tlookup = generateLookup(getLookup());\n\t\t\tinput = lookup.getElementsByTagName('input')[0];\n\t\t\tSimulate.click(input);\n\t\t});\n\n\t\tit('filters its items', () => {\n\t\t\tSimulate.change(input, { target: { value: 'Pa' } });\n\t\t\texpect(getItems(lookup).length).to.equal(3);\n\t\t});\n\n\t\tit('filters its items all the way!', () => {\n\t\t\tSimulate.change(input, { target: { value: 'Poof!' } });\n\t\t\texpect(getItems(lookup).length).to.equal(1); // 1 cause of add-item\n\t\t});\n\n\t\tit('unfilters its items if no val', () => {\n\t\t\tSimulate.change(input, { target: { value: '' } });\n\t\t\texpect(getItems(lookup).length).to.equal(7);\n\t\t});\n\n\t\tit('displays no items when item count is 0', () => {\n\t\t\texpect(\n\t\t\t\tlookup.getElementsByClassName('slds-lookup__message').length\n\t\t\t).to.equal(0);\n\t\t\tSimulate.change(input, { target: { value: 'kdjfksjdf' } });\n\t\t\texpect(getItems(lookup).length).to.equal(1); // add item\n\t\t\texpect(\n\t\t\t\tlookup.getElementsByClassName('slds-lookup__message').length\n\t\t\t).to.equal(1);\n\t\t});\n\t});\n\n\tdescribe('custom filter', () => {\n\t\tlet lookup;\n\t\tlet input;\n\n\t\tbeforeEach(() => {\n\t\t\tlookup = generateLookup(\n\t\t\t\tgetLookup({ filterWith: (text, i) => text === i.label[0] })\n\t\t\t);\n\t\t\tinput = lookup.getElementsByTagName('input')[0];\n\t\t\tSimulate.click(input);\n\t\t});\n\n\t\tit('filters its items by case sensitive first letter', () => {\n\t\t\tSimulate.change(input, { target: { value: 'P' } });\n\t\t\texpect(getItems(lookup).length).to.equal(3);\n\t\t\tSimulate.change(input, { target: { value: 'p' } });\n\t\t\texpect(getItems(lookup).length).to.equal(1);\n\t\t});\n\t});\n});\n"],"file":"lookup.browser-test.js"}