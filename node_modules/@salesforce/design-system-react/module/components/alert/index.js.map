{"version":3,"sources":["../../../.tmp-es/components/alert/index.jsx"],"names":["React","PropTypes","assign","classNames","Button","Icon","checkProps","ALERT","DOMElementFocus","propTypes","assistiveText","shape","closeButton","oneOfType","string","node","className","array","object","dismissible","bool","icon","labels","heading","headingLink","onClickHeadingLink","func","onRequestClose","variant","oneOf","isRequired","defaultProps","Alert","props","component","state","isInitialRender","storeActiveElement","focus","setState","returnFocusToStoredElement","content","onDismiss","assistiveTextVariant","info","warning","error","offline","defaultIcons","iconName","iconCategory","clonedIcon","cloneElement","containerClassName","inverse","size","saveButtonRef","Component","displayName"],"mappings":"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","sourcesContent":["/* Copyright (c) 2015-present, salesforce.com, inc. All rights reserved */\n/* Licensed under BSD 3-Clause - see LICENSE.txt or git.io/sfdc-license */\n\n// # Alert Component\n\n// Implements the [Alert design pattern](https://lightningdesignsystem.com/components/alert/) in React.\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport assign from 'lodash.assign';\nimport classNames from '../../utilities/class-names';\nimport Button from '../button';\nimport Icon from '../icon';\nimport checkProps from './check-props';\nimport { ALERT } from '../../utilities/constants';\nimport DOMElementFocus from '../../utilities/dom-element-focus';\n\nconst propTypes = {\n\t/**\n\t * **Assistive text for accessibility**\n\t * This object is merged with the default props object on every render.\n\t * * `closeButton`: This is a visually hidden label for the close button.\n\t * _Tested with snapshot testing._\n\t */\n\tassistiveText: PropTypes.shape({\n\t\tcloseButton: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t}),\n\t/**\n\t * CSS classes to be added to tag with `.slds-notify_alert`. Uses `classNames` [API](https://github.com/JedWatson/classnames).\n\t * _Tested with snapshot testing._\n\t */\n\tclassName: PropTypes.oneOfType([\n\t\tPropTypes.array,\n\t\tPropTypes.object,\n\t\tPropTypes.string,\n\t]),\n\t/**\n\t * Allows user to click a close button. Banners should be dismissible only if they communicate future impact to the system,\n\t * _Tested with snapshot testing._\n\t */\n\tdismissible: PropTypes.bool,\n\t/**\n\t * Icon of type `~/components/icon`. This icon will be cloned and additional props appended. The default icons are:\n\t * * info variant: `utility:info`\n\t * * error variant: `utility:error`\n\t * * offline variant: `utility:offline`\n\t * * warning variant: `utility:warning`\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\ticon: PropTypes.node,\n\t/**\n\t * **Text labels for internationalization**\n\t * This object is merged with the default props object on every render.\n\t * * `heading`: text within heading tag\n\t * * `headingLink`: Text of link that triggers `onClickHeadingLink`. Inline links should pass a keyed array of React components into `labels.heading`.\n\t *\n\t * _Tested with snapshot testing._\n\t */\n\tlabels: PropTypes.shape({\n\t\theading: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t\theadingLink: PropTypes.oneOfType([PropTypes.string, PropTypes.node]),\n\t}),\n\t/**\n\t * Triggered by link. _Tested with Mocha testing._\n\t */\n\tonClickHeadingLink: PropTypes.func,\n\t/**\n\t * Triggered by close button. This is a controlled component. _Tested with Mocha testing._\n\t */\n\tonRequestClose: PropTypes.func,\n\t/**\n\t * The type of alert. _Tested with snapshot testing._\n\t */\n\tvariant: PropTypes.oneOf(['error', 'info', 'offline', 'warning']).isRequired,\n};\n\nconst defaultProps = {\n\tassistiveText: {\n\t\tcloseButton: 'Close',\n\t},\n\tlabels: {},\n\tvariant: 'info',\n};\n\n/**\n * Alert banners communicate a state that affects the entire system, not just a feature or page. It persists over a session and appears without the user initiating the action. View [banner guidelines](https://www.lightningdesignsystem.com/guidelines/messaging/components/banners/).\n */\n\nclass Alert extends React.Component {\n\tconstructor (props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tisInitialRender: true,\n\t\t};\n\t}\n\n\tcomponentWillMount () {\n\t\t// `checkProps` issues warnings to developers about properties (similar to React's built in development tools)\n\t\tcheckProps(ALERT, this.props);\n\t}\n\n\tcomponentWillUnmount () {\n\t\tDOMElementFocus.returnFocusToStoredElement();\n\t}\n\n\tsaveButtonRef = (component) => {\n\t\tthis.closeButton = component;\n\t\tif (this.state.isInitialRender) {\n\t\t\tDOMElementFocus.storeActiveElement();\n\t\t\tif (this.closeButton) {\n\t\t\t\tthis.closeButton.focus();\n\t\t\t}\n\t\t\tthis.setState({ isInitialRender: false });\n\t\t}\n\t};\n\n\trender () {\n\t\t// Merge objects of strings with their default object\n\t\tconst assistiveText = assign(\n\t\t\t{},\n\t\t\tdefaultProps.assistiveText,\n\t\t\tthis.props.assistiveText\n\t\t);\n\t\tconst labels = assign({}, defaultProps.labels, this.props.labels);\n\n\t\t// BACKWARD COMPATIBILITY WITH NOTIFICATION\n\t\tconst heading = labels.heading || this.props.content; // eslint-disable-line react/prop-types\n\t\tconst onRequestClose = this.props.onRequestClose || this.props.onDismiss; // eslint-disable-line react/prop-types\n\n\t\tconst assistiveTextVariant = {\n\t\t\tinfo: 'info',\n\t\t\twarning: 'warning',\n\t\t\terror: 'error',\n\t\t\toffline: 'offline',\n\t\t};\n\n\t\tconst defaultIcons = {\n\t\t\tinfo: <Icon category=\"utility\" name=\"info\" />,\n\t\t\toffline: <Icon category=\"utility\" name=\"offline\" />,\n\t\t\twarning: <Icon category=\"utility\" name=\"warning\" />,\n\t\t\terror: <Icon category=\"utility\" name=\"error\" />,\n\t\t};\n\n\t\tlet icon = this.props.icon\n\t\t\t? this.props.icon\n\t\t\t: defaultIcons[this.props.variant];\n\n\t\t// BACKWARD COMPATIBILITY WITH NOTIFICATION\n\t\tif (this.props.iconName && this.props.iconCategory) {\n\t\t\t// eslint-disable-line react/prop-types\n\t\t\ticon = (\n\t\t\t\t<Icon category={this.props.iconCategory} name={this.props.iconName} />\n\t\t\t);\n\t\t}\n\n\t\tconst clonedIcon = React.cloneElement(icon, {\n\t\t\tcontainerClassName: 'slds-m-right--x-small',\n\t\t\tinverse: true,\n\t\t\tsize: 'x-small',\n\t\t});\n\n\t\t/* eslint-disable no-script-url */\n\t\treturn (\n\t\t\t<div\n\t\t\t\tclassName={classNames(\n\t\t\t\t\t'slds-notify slds-notify_alert slds-theme_alert-texture',\n\t\t\t\t\t{\n\t\t\t\t\t\t'slds-theme_info': this.props.variant === 'info',\n\t\t\t\t\t\t'slds-theme_warning': this.props.variant === 'warning',\n\t\t\t\t\t\t'slds-theme_error': this.props.variant === 'error',\n\t\t\t\t\t\t'slds-theme_offline': this.props.variant === 'offline',\n\t\t\t\t\t},\n\t\t\t\t\tthis.props.className\n\t\t\t\t)}\n\t\t\t\trole=\"alert\"\n\t\t\t>\n\t\t\t\t<span className=\"slds-assistive-text\">\n\t\t\t\t\t{assistiveTextVariant[this.props.variant]}\n\t\t\t\t</span>\n\t\t\t\t{clonedIcon}\n\t\t\t\t<h2>\n\t\t\t\t\t{heading}{' '}\n\t\t\t\t\t{labels.headingLink ? (\n\t\t\t\t\t\t<a\n\t\t\t\t\t\t\tonClick={this.props.onClickHeadingLink}\n\t\t\t\t\t\t\thref=\"javascript:void(0);\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{labels.headingLink}\n\t\t\t\t\t\t</a>\n\t\t\t\t\t) : null}\n\t\t\t\t</h2>\n\t\t\t\t{this.props.dismissible ? (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tassistiveText={{ icon: assistiveText.closeButton }}\n\t\t\t\t\t\tbuttonRef={this.saveButtonRef}\n\t\t\t\t\t\tclassName=\"slds-notify__close\"\n\t\t\t\t\t\ticonCategory=\"utility\"\n\t\t\t\t\t\ticonName=\"close\"\n\t\t\t\t\t\ticonSize=\"medium\"\n\t\t\t\t\t\tinverse\n\t\t\t\t\t\tonClick={onRequestClose}\n\t\t\t\t\t\ttitle={assistiveText.closeButton}\n\t\t\t\t\t\tvariant=\"icon\"\n\t\t\t\t\t/>\n\t\t\t\t) : null}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nAlert.defaultProps = defaultProps;\nAlert.displayName = ALERT;\nAlert.propTypes = propTypes;\n\nexport default Alert;\n"],"file":"index.js"}